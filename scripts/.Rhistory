source('~/Documents/covid-r-plots/scripts/data-cleanup-covid-timeseries.r', echo=TRUE)
source('~/Documents/covid-r-plots/scripts/plots-covid-timeseries.r', echo=TRUE)
source('~/Documents/covid-r-plots/scripts/plots-covid-timeseries.r', echo=TRUE)
source('~/Documents/covid-r-plots/scripts/data-cleanup-covid-timeseries.r', echo=TRUE)
source('~/Documents/covid-r-plots/scripts/plots-covid-timeseries.r', echo=TRUE)
?ggsave
ggsave(plot = p1, scale = 3, filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.png'))
ggsave(plot = p1, scale = 2.2, filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.png'))
ggsave(plot = p1, scale = 2, filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.png'))
ggsave(plot = p1, scale = 2, filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.svg'))
source('~/Documents/covid-r-plots/scripts/plots-covid-timeseries.r', echo=TRUE)
ggsave(plot = p1, scale = 1, filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.svg'))
ggsave(plot = p1, scale = 1.5, filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.png'))
ggsave(plot = p1, scale = 1.25, filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.svg'))
ggsave(plot = p1, scale = 1.35, filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.png'))
1920/320
6*320
ggsave(plot = p1, filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.png'),
dpi = 320, width = 1920/320, height = 1080/320, units = 'in')
ggsave(plot = p1, filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.png'),
dpi = 350, width = 1920/320, height = 1080/320, units = 'in')
ggsave(plot = p1, filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.png'),
dpi = 350, width = 1920/320, height = 1080/320, units = 'in')
ggsave(plot = p1, filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.png'),
dpi = 350, width = 1920/320, height = 1080/320, units = 'in', scale = 1.4)
ggsave(plot = p1, filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.png'),
dpi = 350, width = 1920/320, height = 1080/320, units = 'in', scale = 1.75)
ggsave(plot = p1, scale = 1.75, filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.svg'))
ggsave(plot = p1, scale = 1.75,
filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.svg'))
ggsave(plot = p1, scale = 1,
filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.svg'))
### Time evolution of cases normalized by detection of kth case ------
p1 = ggplot(df_sub, aes(timenorm_num, conf, col = loc)) +
geom_line() + geom_point() +
geom_label(data = df_labels, show.legend = F,
aes(x = maxtimediff, label = conf, hjust = 1, vjust = 0)) +
geom_label(data = df_labels, show.legend = F,
aes(y = seq((0.6*max(df_sub$conf, na.rm = T)), (0.9*max(df_sub$conf, na.rm = T)), length.out = nrow(df_labels)),
x = 0, label = paste(loc, day0, sep = ': ')), hjust = 0) +
annotate(geom = 'text', x = 0, y = (0.95*max(df_sub$conf, na.rm = T)), col = 'black', hjust = 0,
label = paste0('Day of detection of ', thresh_pat, 'th case')) +
annotate(geom = 'label', x = 0.9*max(df_sub$timenorm_num), y = 0.2*max(df_sub$conf),
label = paste0('Current date: ', max(df_sub$time_base)), col = 'black') +
scale_x_continuous( breaks = seq(-20, max(df_sub$timenorm_num), 5), limits = c(0,max(df_sub$timenorm_num)) ) +
#scale_y_log10() + # Comment this line to make the scale linear
theme_grey(base_family = 'Montserrat-Medium') +
theme(axis.text.x = element_text(angle = 45, vjust = 0.6),
legend.position = 'right') +
labs(x = paste0('Days after detection of ', thresh_pat, 'th case'),
title = 'Number of confirmed cases by country',
col = 'Country')
p1
ggsave(plot = p1, scale = 1,
filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.svg'))
ggsave(plot = p1, width = 1920/320, height = 1080/320, units = 'in',
filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.svg'))
ggsave(plot = p1, width = 1920/320, height = 1080/320, units = 'in',
filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.svg'))
ggsave(plot = p1, filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.png'),
dpi = 350, width = 1920/320, height = 1080/320, units = 'in')
View(p1)
?png()
png(filename = "../plots/prueba.png",
width = 1920, height = 1080, units = "px", pointsize = 12)
p1
dev.off()
png(filename = "../plots/prueba.png",
width = 1920, height = 1080, units = "px", pointsize = 14)
p1
dev.off()
png(filename = "../plots/prueba.png",
width = 1920, height = 1080, units = "px", pointsize = 14, res = 320)
p1
dev.off()
png(filename = "../plots/prueba.png",
width = 1920, height = 1080, units = "px", pointsize = 14, res = 250)
p1
dev.off()
png(filename = "../plots/prueba.png",
width = 1920, height = 1080, units = "px", pointsize = 14, res = 100)
p1
dev.off()
ggsave(plot = p1, width = 1920/320, height = 1080/320, units = 'in',
filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.svg'))
ggsave(plot = p1, filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.png'),
dpi = 300, width = 1920/300, height = 1080/300, units = 'in')
ggsave(plot = p1, width = 1920/320, height = 1080/320, units = 'in', scale = 1.75,
filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.svg'))
ggsave(plot = p1, filename = paste0('../plots/conf_cases_after_', thresh_pat, 'th_patient.png'),
dpi = 300, width = 1920/300, height = 1080/300, units = 'in', scale = 1.75)
